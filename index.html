<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>3D Dance Cube</title>

<style>
:root{
  /* Desktop */
  --cubeSize: min(480px, 70vw, 55vh); /* etwas kleiner */
  --half: calc(var(--cubeSize) / 2);

  --gapScene: 72px;
  --gapHeadline: 36px;

  --shadowW: calc(var(--cubeSize) * 0.82);
  --shadowH: calc(var(--cubeSize) * 0.14);
  --shadowBottom: calc(var(--cubeSize) * -0.08);

  /* Safe area */
  --padTop: max(18px, env(safe-area-inset-top));
  --padSide: max(18px, env(safe-area-inset-right));
  --padBottom: max(18px, env(safe-area-inset-bottom));
  --padLeft: max(18px, env(safe-area-inset-left));

  /* Button Desktop */
  --btnPadY: 20px;
  --btnPadX: 56px;
  --btnFont: 22px;

  --cubeOffsetDesktop: -5px;
  --btnOffsetMobile: 0px;
}

/* MOBILE */
@media (max-width: 900px) {
  :root{
    --cubeSize: calc(min(520px, 82vw, 60vh) * 0.6666667);
    --gapScene: 22px;
    --gapHeadline: 14px;

    --padTop: calc(env(safe-area-inset-top) + 34px);
    --padSide: max(14px, env(safe-area-inset-right));
    --padBottom: calc(env(safe-area-inset-bottom) + 14px);
    --padLeft: max(14px, env(safe-area-inset-left));

    --btnPadY: 16px;
    --btnPadX: 46px;
    --btnFont: 20px;

    --btnOffsetMobile: 20px;
  }
}

html, body {
  margin: 0;
  height: 100%;
}

body{
  min-height: 100vh;
  min-height: 100svh;
  display: flex;
  justify-content: center;
  align-items: center;

  background: url("boden.jpg") center / cover no-repeat;
  font-family: system-ui, sans-serif;
  padding: var(--padTop) var(--padSide) var(--padBottom) var(--padLeft);
}

@media (max-width: 900px){
  body{ align-items: flex-start; }
}

.scene{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap: var(--gapScene);
}

/* Headline */
.headline{
  width: calc(var(--cubeSize) * 0.9); /* Desktop kleiner */
  margin-bottom: var(--gapHeadline);
}
@media (max-width: 900px){
  .headline{ width: var(--cubeSize); }
}
.headline img{
  width:100%;
  height:auto;
  display:block;
}

/* BÃ¼hne */
.stage{
  position: relative;
  width: var(--cubeSize);
  height: var(--cubeSize);
  perspective: calc(var(--cubeSize) * 2.2);
  transform: translateY(var(--cubeOffsetDesktop));
}

/* Schatten */
.shadow{
  position:absolute;
  bottom: var(--shadowBottom);
  left:50%;
  width: var(--shadowW);
  height: var(--shadowH);
  transform: translateX(-50%);
  background: radial-gradient(ellipse at center,
    rgba(0,0,0,0.45) 0%,
    rgba(0,0,0,0.25) 35%,
    rgba(0,0,0,0.1) 55%,
    rgba(0,0,0,0) 70%);
  filter: blur(6px);
}

/* WÃ¼rfel */
.cube{
  width:100%;
  height:100%;
  position:relative;
  transform-style: preserve-3d;
  transition: transform 2.8s cubic-bezier(.18,.9,.25,1);
}

/* Seiten */
.face{
  position:absolute;
  width:100%;
  height:100%;
  background:#fff;
  border-radius:16px;
  overflow:hidden;
}
.face img{
  width:100%;
  height:100%;
  object-fit: cover;
}

/* 3D */
.front  { transform: translateZ(var(--half)); }
.back   { transform: rotateY(180deg) translateZ(var(--half)); }
.right  { transform: rotateY(90deg) translateZ(var(--half)); }
.left   { transform: rotateY(-90deg) translateZ(var(--half)); }
.top    { transform: rotateX(90deg) translateZ(var(--half)); }
.bottom { transform: rotateX(-90deg) translateZ(var(--half)); }

/* Buttons */
.buttons{
  display:flex;
  gap: 18px;
  transform: translateY(var(--btnOffsetMobile));
}
@media (max-width: 900px){
  .buttons{
    flex-direction: column;
    gap: 14px;
  }
}

.btn{
  padding: var(--btnPadY) var(--btnPadX);
  font-size: var(--btnFont);
  font-weight: 800;
  letter-spacing: 0.12em;
  border-radius: 999px;
  cursor:pointer;
  border:none;
}
.btn-black{ background:#000; color:#fff; }
.btn-white{ background:#fff; color:#000; border:2px solid #000; }

/* Countdown */
.countdown{
  font-weight:700;
  font-size:14px;
  margin-top: 6px;
  display:none;
}

/* ðŸ”’ Landscape-Sperre (Mobile) */
.orientation-lock{
  position:fixed;
  inset:0;
  background:#000;
  color:#fff;
  display:none;
  align-items:center;
  justify-content:center;
  text-align:center;
  z-index:9999;
  font-size:18px;
  padding:24px;
}

@media (max-width: 900px) and (orientation: landscape){
  .orientation-lock{ display:flex; }
  body{ overflow:hidden; }
}
</style>
</head>

<body>

<div class="orientation-lock">
  Bitte Hochformat verwenden ðŸ“±
</div>

<div class="scene">
  <div class="headline">
    <img src="headline.png" alt="Dance Cube">
  </div>

  <div class="stage">
    <div class="shadow"></div>
    <div class="cube" id="cube">
      <div class="face front"><img src="1.png"></div>
      <div class="face right"><img src="2.png"></div>
      <div class="face back"><img src="3.png"></div>
      <div class="face left"><img src="4.png"></div>
      <div class="face top"><img src="5.png"></div>
      <div class="face bottom"><img src="6.png"></div>
    </div>
  </div>

  <div class="buttons">
    <button id="rollBtn" class="btn btn-black">WÃœRFELN</button>
    <button id="partyBtn" class="btn btn-white">PARTY</button>
  </div>

  <div id="countdown" class="countdown"></div>
</div>

<script>
const cube = document.getElementById("cube");
const rollBtn = document.getElementById("rollBtn");
const partyBtn = document.getElementById("partyBtn");
const countdown = document.getElementById("countdown");

const rotations = {
  1:[0,0],2:[0,-90],3:[0,180],4:[0,90],5:[-90,0],6:[90,0]
};

let party=false, timer=null, counter=null, sec=10;

function roll(){
  const n=Math.floor(Math.random()*6)+1;
  const [x,y]=rotations[n];
  cube.style.transform=`rotateX(${x+720}deg) rotateY(${y+720}deg)`;
}

rollBtn.onclick=roll;

partyBtn.onclick=()=>{
  if(!party){
    party=true;
    partyBtn.textContent="PARTY STOPPEN";
    rollBtn.disabled=true;
    countdown.style.display="block";
    roll();
    sec=10;
    countdown.textContent=`NÃ„CHSTER WURF IN ${sec}s`;

    timer=setInterval(()=>{
      roll();
      sec=10;
    },10000);

    counter=setInterval(()=>{
      sec--;
      countdown.textContent=`NÃ„CHSTER WURF IN ${sec}s`;
    },1000);
  } else {
    party=false;
    partyBtn.textContent="PARTY";
    rollBtn.disabled=false;
    clearInterval(timer);
    clearInterval(counter);
    countdown.style.display="none";
    cube.style.transform="rotateX(0deg) rotateY(0deg)";
  }
};
</script>

</body>
</html>
