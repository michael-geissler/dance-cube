<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>3D Dance Cube</title>

<style>
:root{
  --cubeSize: min(480px, 70vw, 55vh);
  --half: calc(var(--cubeSize) / 2);

  --padTop: max(18px, env(safe-area-inset-top));
  --padSide: max(18px, env(safe-area-inset-right));
  --padBottom: max(18px, env(safe-area-inset-bottom));
  --padLeft: max(18px, env(safe-area-inset-left));

  --btnPadY: 20px;
  --btnPadX: 56px;
  --btnFont: 22px;

  --cubeOffsetDesktop: -5px;
}

/* MOBILE */
@media (max-width: 900px){
  :root{
    --cubeSize: calc(min(520px, 82vw, 60vh) * 0.6666667);
    --btnPadY: 16px;
    --btnPadX: 46px;
    --btnFont: 20px;
  }
}

html,body{
  margin:0;
  height:100%;
}

body{
  min-height:100svh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:url("boden.jpg") center/cover no-repeat;
  font-family:system-ui,sans-serif;
  padding:var(--padTop) var(--padSide) var(--padBottom) var(--padLeft);
}

@media (max-width:900px){
  body{align-items:flex-start;}
}

.scene{
  position:relative;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:48px;
}

/* HEADLINE */
.headline{
  width: calc(var(--cubeSize) * 0.9);
}
@media (max-width:900px){
  .headline{width:var(--cubeSize);}
}
.headline img{width:100%;display:block;}

/* ðŸŽ‰ PARTY LIGHTS (HINTER DEM WÃœRFEL) */
.party-lights{
  position:absolute;
  inset:-20vh -20vw;
  z-index:0;
  pointer-events:none;
  opacity:0;
  transition:opacity .6s ease;
  mix-blend-mode:screen;
}

.party-lights::before,
.party-lights::after{
  content:"";
  position:absolute;
  width:140%;
  height:140%;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,0,150,.35), transparent 40%),
    radial-gradient(circle at 80% 40%, rgba(0,200,255,.35), transparent 45%),
    radial-gradient(circle at 50% 70%, rgba(255,255,0,.25), transparent 50%);
  animation: moveLights 12s linear infinite;
}

.party-lights::after{
  animation-duration:18s;
  animation-direction:reverse;
  filter: blur(40px);
}

@keyframes moveLights{
  0%{transform:translate(0,0) rotate(0deg);}
  100%{transform:translate(-10%, -10%) rotate(360deg);}
}

/* BÃ¼hne */
.stage{
  position:relative;
  width:var(--cubeSize);
  height:var(--cubeSize);
  perspective:calc(var(--cubeSize)*2);
  transform:translateY(var(--cubeOffsetDesktop));
  z-index:2;
}

/* WÃ¼rfel */
.cube{
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition:transform 2.8s cubic-bezier(.18,.9,.25,1);
}

/* Seiten */
.face{
  position:absolute;
  inset:0;
  background:#fff;
  border-radius:16px;
  overflow:hidden;
}
.face img{width:100%;height:100%;object-fit:cover;}

.front{transform:translateZ(var(--half));}
.back{transform:rotateY(180deg) translateZ(var(--half));}
.right{transform:rotateY(90deg) translateZ(var(--half));}
.left{transform:rotateY(-90deg) translateZ(var(--half));}
.top{transform:rotateX(90deg) translateZ(var(--half));}
.bottom{transform:rotateX(-90deg) translateZ(var(--half));}

/* Buttons */
.buttons{
  display:flex;
  gap:18px;
  z-index:3;
}
@media (max-width:900px){
  .buttons{flex-direction:column;}
}

.btn{
  padding:var(--btnPadY) var(--btnPadX);
  font-size:var(--btnFont);
  font-weight:800;
  letter-spacing:.12em;
  border-radius:999px;
  border:none;
  cursor:pointer;
}
.btn-black{background:#000;color:#fff;}
.btn-white{background:#fff;color:#000;border:2px solid #000;}

.countdown{
  margin-top:8px;
  font-weight:700;
  display:none;
  z-index:3;
}
</style>
</head>

<body>

<div class="scene">

  <div class="headline">
    <img src="headline.png" alt="Dance Cube">
  </div>

  <!-- PARTY LIGHTS -->
  <div class="party-lights" id="partyLights"></div>

  <div class="stage">
    <div class="cube" id="cube">
      <div class="face front"><img src="1.png"></div>
      <div class="face right"><img src="2.png"></div>
      <div class="face back"><img src="3.png"></div>
      <div class="face left"><img src="4.png"></div>
      <div class="face top"><img src="5.png"></div>
      <div class="face bottom"><img src="6.png"></div>
    </div>
  </div>

  <div class="buttons">
    <button id="rollBtn" class="btn btn-black">WÃœRFELN</button>
    <button id="partyBtn" class="btn btn-white">PARTY</button>
  </div>

  <div id="countdown" class="countdown"></div>
</div>

<script>
const cube = document.getElementById("cube");
const rollBtn = document.getElementById("rollBtn");
const partyBtn = document.getElementById("partyBtn");
const countdown = document.getElementById("countdown");
const lights = document.getElementById("partyLights");

const rotations={
  1:[0,0],2:[0,-90],3:[0,180],4:[0,90],5:[-90,0],6:[90,0]
};

let party=false,timer=null,counter=null,sec=10;

function roll(){
  const n=Math.floor(Math.random()*6)+1;
  const [x,y]=rotations[n];
  cube.style.transform=`rotateX(${x+720}deg) rotateY(${y+720}deg)`;
}

rollBtn.onclick=roll;

partyBtn.onclick=()=>{
  if(!party){
    party=true;
    partyBtn.textContent="PARTY STOPPEN";
    rollBtn.disabled=true;
    lights.style.opacity="1";

    countdown.style.display="block";
    sec=10;
    roll();

    timer=setInterval(()=>{roll();sec=10;},10000);
    counter=setInterval(()=>{
      sec--;
      countdown.textContent=`NÃ„CHSTER WURF IN ${sec}s`;
    },1000);
  } else {
    party=false;
    partyBtn.textContent="PARTY";
    rollBtn.disabled=false;
    lights.style.opacity="0";

    clearInterval(timer);
    clearInterval(counter);
    countdown.style.display="none";
    cube.style.transform="rotateX(0deg) rotateY(0deg)";
  }
};
</script>

</body>
</html>
