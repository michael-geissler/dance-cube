<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>3D Dance Cube</title>

<style>
:root{
  --cubeSize: min(480px, 70vw, 55vh);
  --half: calc(var(--cubeSize) / 2);

  --gapScene: 72px;
  --gapHeadline: 36px;
  --gapButtons: 48px;

  --headlineOffset: -10px;
  --headlineScale: 0.9;

  --shadowW: calc(var(--cubeSize) * 0.82);
  --shadowH: calc(var(--cubeSize) * 0.14);
  --shadowBottom: calc(var(--cubeSize) * -0.08);

  --btnPadY: 20px;
  --btnPadX: 56px;
  --btnFont: 22px;
}

@media (max-width: 900px){
  :root{
    --cubeSize: calc(min(520px, 82vw, 60vh) * 0.6666667);
    --gapScene: 22px;
    --gapHeadline: 22px;
    --gapButtons: 22px;

    --headlineOffset: 5px;
    --headlineScale: 0.95;

    --btnPadY: 16px;
    --btnPadX: 46px;
    --btnFont: 20px;
  }
}

html,body{margin:0;height:100%;}

body{
  min-height:100svh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:url("boden.jpg") center/cover no-repeat;
  font-family:system-ui,sans-serif;
}

@media (max-width:900px){
  body{align-items:flex-start;}
  .scene{margin-top:10px;}
}

.scene{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:var(--gapScene);
}

.headline{
  width:calc(var(--cubeSize) * var(--headlineScale));
  margin-bottom:var(--gapHeadline);
  transform:translateY(var(--headlineOffset));
}

.headline img{width:100%;display:block;}

@keyframes wobble{
  0%{transform:translateY(var(--headlineOffset)) rotate(0deg)}
  25%{transform:translateY(calc(var(--headlineOffset)-2px)) rotate(-1deg)}
  50%{transform:translateY(var(--headlineOffset)) rotate(1deg)}
  75%{transform:translateY(calc(var(--headlineOffset)-1px)) rotate(-1deg)}
  100%{transform:translateY(var(--headlineOffset)) rotate(0deg)}
}
.party-active .headline{animation:wobble .6s infinite ease-in-out;}

.stage{
  position:relative;
  width:var(--cubeSize);
  height:var(--cubeSize);
  perspective:calc(var(--cubeSize) * 2.2);
}

.shadow{
  position:absolute;
  bottom:var(--shadowBottom);
  left:50%;
  width:var(--shadowW);
  height:var(--shadowH);
  transform:translateX(-50%);
  background:radial-gradient(ellipse at center,
    rgba(0,0,0,.45) 0%,
    rgba(0,0,0,.25) 35%,
    rgba(0,0,0,.1) 55%,
    rgba(0,0,0,0) 70%);
  filter:blur(6px);
}

.cube{
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition:transform 2.8s cubic-bezier(.18,.9,.25,1);
}

.face{
  position:absolute;
  width:100%;
  height:100%;
  background:#fff;
  border-radius:16px;
  overflow:hidden;
}
.face img{width:100%;height:100%;object-fit:cover;}

.front{transform:translateZ(var(--half))}
.back{transform:rotateY(180deg) translateZ(var(--half))}
.right{transform:rotateY(90deg) translateZ(var(--half))}
.left{transform:rotateY(-90deg) translateZ(var(--half))}
.top{transform:rotateX(90deg) translateZ(var(--half))}
.bottom{transform:rotateX(-90deg) translateZ(var(--half))}

.buttons{
  display:flex;
  gap:18px;
  margin-top:var(--gapButtons);
}

@media (max-width:900px){
  .buttons{flex-direction:column;gap:14px;}
}

.btn{
  padding:var(--btnPadY) var(--btnPadX);
  font-size:var(--btnFont);
  font-weight:800;
  letter-spacing:.10em;
  border-radius:999px;
  border:none;
  cursor:pointer;
  width:100%;
  max-width:360px;
}

@media (min-width:901px){
  .btn{width:320px;max-width:none;}
}

.btn-black{background:#000;color:#fff;}
.btn-party{background:#f74931;color:#fff;}

@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.04)}
  100%{transform:scale(1)}
}
.party-active .btn-party{animation:pulse 1.1s infinite ease-in-out;}

.countdown{
  margin-top:10px;
  font-weight:800;
  font-size:14px;
  color:#fff;
  letter-spacing:.08em;
  display:none;
  text-align:center;
  text-shadow:0 2px 10px rgba(0,0,0,.45);
}

.orientation-lock{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.92);
  color:#fff;
  display:none;
  align-items:center;
  justify-content:center;
  text-align:center;
  z-index:9999;
  font-size:18px;
  padding:24px;
  font-weight:800;
}

@media (max-width:900px) and (orientation:landscape){
  .orientation-lock{display:flex;}
  .scene{display:none;}
}
</style>
</head>

<body>

<div class="orientation-lock">
  Bitte im <b> Hochformat </b> weitertanzen üîÅ
</div>

<div class="scene" id="scene">
  <div class="headline">
    <img src="headline.png" alt="Headline">
  </div>

  <div class="stage">
    <div class="shadow"></div>
    <div class="cube" id="cube">
      <div class="face front"><img src="1.png"></div>
      <div class="face right"><img src="2.png"></div>
      <div class="face back"><img src="3.png"></div>
      <div class="face left"><img src="4.png"></div>
      <div class="face top"><img src="5.png"></div>
      <div class="face bottom"><img src="6.png"></div>
    </div>
  </div>

  <div class="buttons">
    <button id="rollBtn" class="btn btn-black">SELBST W√úRFELN</button>
    <button id="partyBtn" class="btn btn-party">PARTY STARTEN</button>
  </div>

  <div id="countdown" class="countdown"></div>
</div>

<script>
const cube=document.getElementById("cube");
const rollBtn=document.getElementById("rollBtn");
const partyBtn=document.getElementById("partyBtn");
const countdown=document.getElementById("countdown");
const scene=document.getElementById("scene");

const rotations={1:[0,0],2:[0,-90],3:[0,180],4:[0,90],5:[-90,0],6:[90,0]};
let party=false,timer=null,counter=null,sec=10;

function roll(){
  const n=Math.floor(Math.random()*6)+1;
  const [x,y]=rotations[n];
  cube.style.transform=`rotateX(${x+720}deg) rotateY(${y+720}deg)`;
}

rollBtn.onclick=()=>{ if(!party) roll(); };

partyBtn.onclick=()=>{
  if(!party){
    party=true;
    scene.classList.add("party-active");
    partyBtn.textContent="PARTY STOPPEN";
    rollBtn.disabled=true;

    countdown.style.display="block";
    sec=10;
    countdown.textContent=`N√ÑCHSTER MOVE IN ${sec}s`;
    roll();

    timer=setInterval(()=>{roll();sec=10;},10000);
    counter=setInterval(()=>{
      sec--;
      countdown.textContent=`N√ÑCHSTER MOVE IN ${sec}s`;
    },1000);
  }else{
    party=false;
    scene.classList.remove("party-active");
    partyBtn.textContent="PARTY STARTEN";
    rollBtn.disabled=false;
    clearInterval(timer);
    clearInterval(counter);
    countdown.style.display="none";
    cube.style.transform="rotateX(0deg) rotateY(0deg)";
  }
};
</script>

</body>
</html>
